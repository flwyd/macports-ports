# -*- coding: utf-8; mode: tcl; tab-width: 4; indent-tabs-mode: nil; c-basic-offset: 4 -*- vim:fenc=utf-8:ft=tcl:et:sw=4:ts=4:sts=4
PortSystem          1.0

name                yabasic
version             2.86.6
revision            0
categories          lang
platforms           darwin
license             {Artistic-1 GPL-2}
maintainers         nomaintainer
description         yet another basic language
long_description    Yabasic implements the most common and simple elements \
                    of the basic language. It comes with goto/gosub, with \
                    various loops, with user defined subroutines and Libraries. \
                    Yabasic does monochrome line graphics and printing.

homepage            http://www.yabasic.de/
master_sites        ${homepage}/download/
checksums           md5 2632ddb3e39fc462c7b75999324a80e0 \
                    rmd160 bd61bda74f0fe7ddf6039284d077dcde891a52cb \
                    sha256 17aa9bd50ce98ac5d4f66edae54ff1d13405578757cccd6d861a37c4165b6773 \
                    size 707361

depends_build       port:pkgconfig

depends_lib         port:xorg-libsm \
                    port:xorg-libX11 \
                    port:xorg-libXt \
                    port:libffi

configure.args      --mandir=${prefix}/share/man
# TODO remove libffi args when https://github.com/marcIhm/yabasic/issues/41 is fixed
configure.cflags-append \
    [exec ${prefix}/bin/pkg-config --cflags libffi]
configure.ldflags-append \
    [exec ${prefix}/bin/pkg-config --libs libffi]
